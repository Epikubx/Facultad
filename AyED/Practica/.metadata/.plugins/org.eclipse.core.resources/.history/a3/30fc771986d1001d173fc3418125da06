import tp02.ejercicio3.PilaGenerica;

public class Ej3
{
	public static void main(String[] args)
	{
		System.out.println(balanced("{( ) [ ( ) ] }"));
	}
	
	private static Character[] apertura = {'[', '(', '{'};
	private static Character[] cierre = {']', ')', '}'};
	
	public static boolean balanced(String cadena){
		PilaGenerica<Character> pila = new PilaGenerica<Character>();
		if(cadena.length() == 0) return true;
		for (Character c : cadena.toCharArray()){
			if(indexOf(c, apertura) != -1){
				pila.apilar(c);
			}else if(indexOf(c, cierre) != -1){
				Character c2 = pila.desapilar();
				if(indexOf(c, apertura) != indexOf(c2, cierre)){
					return false;
				}
			}
		}
		return pila.esVacia();
	}
	
	private static <T> int indexOf(T elem, T[] arr){
		for (int i = 0; i < arr.length; i++){
			if(arr[i] == elem){
				return i;
			}
		}
		return -1;
	}
}